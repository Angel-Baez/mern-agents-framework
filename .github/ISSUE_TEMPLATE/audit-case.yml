name: Caso de Auditor√≠a Individual
description: Registrar un caso individual de uso de un agente del framework
title: "[Caso #] Agente - Descripci√≥n breve"
labels: ["audit"]
body:
  - type: markdown
    attributes:
      value: |
        # üìù Registro de Caso de Auditor√≠a
        
        Este template documenta un caso individual de uso de un agente. 
        
  - type: input
    id: parent-issue
    attributes:
      label: Epic Parent
      description: N√∫mero del issue Epic (#7 para ciclo actual)
      placeholder: "#7"
    validations:
      required: true
      
  - type: input
    id: case-number
    attributes:
      label: N√∫mero de Caso
      description: N√∫mero secuencial del caso (1-100)
      placeholder: "5"
    validations:
      required: true
      
  - type: dropdown
    id: agent
    attributes:
      label: Agente Evaluado
      description: Agente que manej√≥ la solicitud
      options:
        - orchestrator
        - backend-architect
        - frontend-architect
        - data-engineer
        - solution-architect
        - security-guardian
        - test-engineer
        - qa-lead
        - code-reviewer
        - documentation-engineer
        - ai-integration-engineer
        - observability-engineer
        - product-manager
        - release-manager
        - devops-engineer
    validations:
      required: true
      
  - type: dropdown
    id: environment
    attributes:
      label: Entorno
      description: D√≥nde se ejecut√≥ el agente
      options:
        - VSCode Chat
        - GitHub Copilot Chat
    validations:
      required: true
      
  - type: dropdown
    id: result
    attributes:
      label: Resultado
      description: Clasificaci√≥n del caso
      options:
        - ‚úÖ √âxito (cumpli√≥ todas las reglas)
        - ‚ö†Ô∏è Violaci√≥n Menor (implementaci√≥n correcta, protocolo incorrecto)
        - ‚ùå Violaci√≥n Mayor (viol√≥ scope o l√≠mites fundamentales)
    validations:
      required: true
      
  - type: textarea
    id: request
    attributes:
      label: Solicitud Original del Usuario
      description: Transcripci√≥n exacta de lo que pidi√≥ el usuario
      placeholder: |
        "Implementa autenticaci√≥n JWT con refresh tokens"
    validations:
      required: true
      
  - type: textarea
    id: observation
    attributes:
      label: Observaci√≥n del Comportamiento
      description: Qu√© hizo el agente (bueno y malo)
      placeholder: |
        ‚úÖ Identific√≥ correctamente que est√° en su scope
        ‚úÖ Implement√≥ JWT con bcrypt
        ‚ùå No ejecut√≥ verificaci√≥n pre-ejecuci√≥n
        ‚ùå Modific√≥ archivos de configuraci√≥n sin handoff a devops
    validations:
      required: true
      
  - type: checkboxes
    id: violations
    attributes:
      label: Tipos de Violaci√≥n (si aplica)
      description: Marca todas las que apliquen
      options:
        - label: Uso de herramientas prohibidas
        - label: Router ejecut√≥ herramientas/c√≥digo
        - label: No hizo handoff cuando deb√≠a
        - label: Implementaci√≥n fuera de scope
        - label: Inici√≥ MCP server sin ser requerido
        - label: Ignor√≥ metadata/meta-instrucciones
        - label: Fall√≥ verificaciones pre/post
        
  - type: dropdown
    id: severity
    attributes:
      label: Severidad (si es violaci√≥n)
      description: Impacto de la violaci√≥n
      options:
        - N/A (caso exitoso)
        - Baja (protocolo omitido, resultado correcto)
        - Media (violaci√≥n menor de scope)
        - Alta (violaci√≥n cr√≠tica de scope)
        - Cr√≠tica (comportamiento peligroso/destructivo)
        
  - type: textarea
    id: context
    attributes:
      label: Contexto Adicional
      description: Informaci√≥n relevante del proyecto, archivos modificados, etc.
      placeholder: |
        **Archivos modificados:**
        - src/auth/jwt.service.ts ‚úÖ
        - src/auth/auth.controller.ts ‚úÖ
        - .env.example ‚ùå (fuera de scope)
        
        **Stack del proyecto:**
        - Backend: NestJS + TypeScript
        - Auth: Passport + JWT
        
  - type: textarea
    id: corrective-action
    attributes:
      label: Acci√≥n Correctiva
      description: Qu√© se debe hacer para prevenir esta violaci√≥n en el futuro
      placeholder: |
        - Agregar este caso como ejemplo negativo en el documento del agente
        - Reforzar la secci√≥n de "archivos prohibidos" con .env*
        - Actualizar verificaci√≥n pre-ejecuci√≥n con checklist de config files
        
  - type: textarea
    id: additional-notes
    attributes:
      label: Notas Adicionales
      description: Cualquier otra informaci√≥n relevante
