# =============================================================================
# PROJECT CONTEXT CONFIGURATION
# =============================================================================
# Este archivo define el contexto específico de tu proyecto para los agentes.
# Edita los valores según las características de tu aplicación.
# =============================================================================

# -----------------------------------------------------------------------------
# INFORMACIÓN DEL PROYECTO
# -----------------------------------------------------------------------------
project:
  name: "mi-proyecto"                    # Nombre del proyecto
  description: "Descripción del proyecto MERN Stack"
  repository: "usuario/mi-proyecto"      # Owner/repo en GitHub
  type: "web-app"                        # web-app | pwa | saas | ecommerce | admin-dashboard
  version: "0.1.0"
  team_size: "small"                     # small (1-3) | medium (4-10) | large (10+)

# -----------------------------------------------------------------------------
# STACK TECNOLÓGICO
# -----------------------------------------------------------------------------
stack:
  # Frontend
  framework: "next.js"
  framework_version: "14"
  typescript: true
  typescript_version: "5.0"
  
  # Styling
  styling: "tailwind"                    # tailwind | styled-components | css-modules | sass
  styling_version: "3.4"
  ui_library: "shadcn-ui"                # shadcn-ui | radix | headless-ui | material-ui | none
  
  # State Management
  state_management: "zustand"            # zustand | redux-toolkit | jotai | context-api
  form_handling: "react-hook-form"       # react-hook-form | formik | none
  
  # Backend
  backend: "next-api-routes"             # next-api-routes | express | fastify
  api_style: "rest"                      # rest | graphql | trpc
  
  # Database
  database: "mongodb"
  database_version: "7.0"
  orm: "mongoose"                        # mongoose | prisma | drizzle
  orm_version: "8.0"
  
  # Deployment
  deployment: "vercel"                   # vercel | aws | railway | fly.io | docker
  hosting_region: "us-east-1"

# -----------------------------------------------------------------------------
# FEATURES HABILITADOS
# -----------------------------------------------------------------------------
features:
  # Autenticación
  authentication: true
  auth_provider: "next-auth"             # next-auth | clerk | auth0 | custom
  auth_strategies:
    - "credentials"                      # credentials | google | github | magic-link
  
  # Offline & PWA
  offline_first: false
  pwa: false
  service_worker: false
  push_notifications: false
  
  # Pagos
  payments: false
  payment_provider: ""                   # stripe | mercadopago | paypal
  
  # AI Integration
  ai_integration: false
  ai_provider: ""                        # openai | anthropic | google | azure-openai
  
  # Otras características
  realtime: false                        # WebSockets / Server-Sent Events
  file_uploads: true
  file_storage: "local"                  # local | s3 | cloudinary | uploadthing
  email: false
  email_provider: ""                     # resend | sendgrid | nodemailer
  
  # Internacionalización
  i18n: false
  default_locale: "es"
  supported_locales: ["es", "en"]

# -----------------------------------------------------------------------------
# ARQUITECTURA
# -----------------------------------------------------------------------------
architecture:
  # Patrón arquitectónico
  pattern: "clean-architecture"          # clean-architecture | mvc | feature-based
  
  # Capas de la aplicación
  layers:
    domain: "src/core/domain"            # Entidades, Value Objects, Interfaces
    services: "src/core/services"        # Lógica de negocio
    repositories: "src/core/repositories" # Acceso a datos
    api: "src/app/api"                   # Endpoints
    components: "src/components"          # UI Components
    lib: "src/lib"                       # Utilidades
    types: "src/types"                   # Tipos TypeScript
  
  # Testing
  testing_strategy: "pyramid"            # pyramid | trophy | ice-cream-cone
  test_framework: "vitest"               # vitest | jest
  e2e_framework: "playwright"            # playwright | cypress
  
  # CI/CD
  ci_cd: "github-actions"                # github-actions | gitlab-ci | jenkins
  environments:
    - "development"
    - "staging"
    - "production"

# -----------------------------------------------------------------------------
# QUALITY TARGETS (Objetivos de Calidad)
# -----------------------------------------------------------------------------
quality_targets:
  # Lighthouse scores (0-100)
  lighthouse_performance: 90
  lighthouse_accessibility: 100
  lighthouse_best_practices: 100
  lighthouse_seo: 100
  
  # Core Web Vitals
  lcp_target: 2.5                        # Largest Contentful Paint (segundos)
  fid_target: 100                        # First Input Delay (ms)
  cls_target: 0.1                        # Cumulative Layout Shift
  
  # Testing
  test_coverage: 80                      # Porcentaje mínimo de cobertura
  
  # Code Quality
  max_complexity: 10                     # Complejidad ciclomática máxima
  max_file_lines: 300                    # Líneas máximas por archivo

# -----------------------------------------------------------------------------
# DOMINIO DE NEGOCIO
# -----------------------------------------------------------------------------
domain:
  # Entidades principales del dominio
  entities:
    - name: "User"
      description: "Usuario del sistema"
      key_attributes:
        - "id"
        - "email"
        - "name"
        - "role"
    
    - name: "Product"
      description: "Producto o item principal"
      key_attributes:
        - "id"
        - "name"
        - "description"
        - "price"
  
  # Flujos principales de la aplicación
  main_flows:
    - name: "user-registration"
      description: "Registro de nuevos usuarios"
      steps:
        - "Formulario de registro"
        - "Validación de datos"
        - "Creación de cuenta"
        - "Envío de email de verificación"
    
    - name: "user-authentication"
      description: "Inicio de sesión"
      steps:
        - "Formulario de login"
        - "Validación de credenciales"
        - "Generación de tokens"
        - "Redirección a dashboard"
  
  # Roles de usuario
  user_roles:
    - name: "user"
      permissions: ["read:own", "write:own"]
    - name: "admin"
      permissions: ["read:all", "write:all", "delete:all"]

# -----------------------------------------------------------------------------
# CONVENCIONES
# -----------------------------------------------------------------------------
conventions:
  # Naming
  component_naming: "PascalCase"         # Componentes React
  file_naming: "kebab-case"              # Archivos
  function_naming: "camelCase"           # Funciones y métodos
  constant_naming: "UPPER_SNAKE_CASE"    # Constantes
  
  # Git
  branch_prefix:
    feature: "feature/"
    bugfix: "bugfix/"
    hotfix: "hotfix/"
    release: "release/"
  
  commit_convention: "conventional"       # conventional | gitmoji
  
  # Code Style
  indent: "spaces"                       # spaces | tabs
  indent_size: 2
  quote_style: "double"                  # double | single
  semicolons: true

# -----------------------------------------------------------------------------
# VARIABLES DE ENTORNO REQUERIDAS
# -----------------------------------------------------------------------------
environment_variables:
  required:
    - "DATABASE_URL"
    - "NEXTAUTH_SECRET"
    - "NEXTAUTH_URL"
  
  optional:
    - "OPENAI_API_KEY"
    - "STRIPE_SECRET_KEY"
    - "STRIPE_WEBHOOK_SECRET"
    - "RESEND_API_KEY"
